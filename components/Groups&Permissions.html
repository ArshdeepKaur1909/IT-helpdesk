<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Groups & Permissions</title>
  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <!-- <link rel="stylesheet" href="GroupsAndPermissions.css"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    /* General Reset */
* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: 'Inter', sans-serif;
  background: #f8f9fc;
  color: #1f2937;
}

/* Navbar */
.navbar {
  display: flex; justify-content: space-between; align-items: center;
  background: #fff;
  padding: 12px 20px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  position: sticky;
  top: 0; left: 0; right: 0;
  z-index: 100;
}
.logo-img {
     height: 32px; 
  border-radius: 100%;
}
.nav-right { display: flex; align-items: center; gap: 14px; }
.icon-btn {
  background: #f3f4f6; border: none; padding: 8px;
  border-radius: 8px; cursor: pointer;
  transition: background 0.2s;
}
.icon-btn:hover { background: #e5e7eb; }
.profile {
  background: #4f46e5; color: #fff;
  padding: 6px 12px; border-radius: 50%; font-weight: 600;
}
.email { font-size: 14px; color: #374151; }

/* Layout */
.container { display: flex; }
.sidebar {
  width: 240px; background: #fff; padding: 20px;
  box-shadow: 2px 0 8px rgba(0,0,0,0.05);
}
.sidebar ul { list-style: none; }
.sidebar li {
  padding: 10px 12px; margin-bottom: 8px;
  border-radius: 6px; cursor: pointer;
}
.sidebar li.active, .sidebar li:hover {
  background: #eef2ff; color: #4f46e5;
}
.badge {
  background: #e5e7eb; padding: 2px 8px;
  border-radius: 12px; font-size: 12px;
}

.main { flex: 1; padding: 20px; }
h2 { margin-bottom: 16px; }

/* Group select */
.group-select { 
  display: flex; gap: 10px;
  margin-bottom: 20px;
  border: 1px solid #d1d5db;
  padding: 16px;
  border-radius: 10px;
  flex-wrap: wrap;
}
.group-select select {
  flex: 1; padding: 10px 14px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.08);
  font-size: 14px;
}
.add-btn {
  padding: 10px 16px;
  background: #f3f4f6;
  border: none; border-radius: 8px; cursor: pointer;
}
.add-btn:hover { background: #e5e7eb; }

/* Card */
.card {
  background: #fff;
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  margin-bottom: 20px;
}
.add_heading {
  display: flex; justify-content: space-between; 
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 12px;
}
.permission-row {
  display: flex; justify-content: space-between;
  align-items: center;
  padding: 10px;
  border-bottom: 1px solid #f1f5f9;
  flex-wrap: wrap;
}
.permission-row:last-child { border-bottom: none; }
.permission-row select {
  min-width: 200px;
  padding: 8px 12px;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  background: #fff;
  box-shadow: 0 1px 2px rgba(0,0,0,0.06);
  transition: border 0.2s;
}
.permission-row select:focus {
  outline: none;
  border: 1px solid #4f46e5;
  box-shadow: 0 0 0 3px rgba(79,70,229,0.1);
}

/* Save button */
.save-btn {
  display: block;
  margin-top: 10px;
  padding: 12px 18px;
  background: #4f46e5; color: #fff;
  border: none; border-radius: 8px;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s;
}
.save-btn:hover { background: #4338ca; }

/* Responsive */
@media (max-width: 1024px) {
  .container { flex-direction: column; }
  .sidebar {
    width: 100%;
    display: flex; 
    overflow-x: auto;
    border-bottom: 1px solid #e5e7eb;
    box-shadow: none;
  }
  .sidebar ul { display: flex; gap: 8px; }
}

@media (max-width: 768px) {
  .navbar { flex-wrap: wrap; gap: 10px; }
  .group-select { flex-direction: column; }
  .group-select select, .add-btn { width: 100%; }
  .add_heading { flex-direction: column; align-items: flex-start; gap: 6px; }
}

@media (max-width: 480px) {
  .email { display: none; }
  .permission-row { flex-direction: column; align-items: flex-start; gap: 8px; }
  .permission-row select { width: 100%; }
}

  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="nav-left">
      <img src="../images/logo2.png" alt="Devantra Community Logo" class="logo-img">
    </div>
    <div class="nav-right">
      <button class="icon-btn" aria-label="Notifications"><i data-lucide="bell"></i></button>
      <button class="icon-btn" aria-label="Settings"><i data-lucide="settings"></i></button>
      <span class="email">user@example.com</span>
      <div class="profile">DK</div>
    </div>
  </nav>

  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <ul>
        <li class="active">üë§ Profile</li>
        <li>üë• Groups & Permissions</li>
        <li>üíº Assets <span class="badge">0</span></li>
        <li>üìë Contracts <span class="badge">0</span></li>
        <li>üîó Connected Apps <span class="badge">0</span></li>
        <li>üìú Usage History</li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="main">
      <h2>Groups & Permissions</h2>
      <div class="group-select">
        <select id="header_select">
          <option>Select Group</option>
        </select>
        <button id="addGroupBtn" class="add-btn">+ Add</button>
      </div>

      <!-- Card 1 -->
      <div class="card">
        <div class="add_heading">
          <h3 class="title">Basic Company Permissions</h3>
          <h3 class="subtitle">Permissions</h3>
        </div>

        <div class="permission-row">
          <span>üì¶ Asset Management</span>
          <select id="Asset_Management">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>

        <div class="permission-row">
          <span>üíª SaaS & Vendor Management</span>
          <select id="SaaS_Vendors">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>

        <div class="permission-row">
          <span>üìë Contract Management</span>
          <select id="contractManagement">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>

        <div class="permission-row">
          <span>üìû Telecom Management</span>
          <select id="telecomManagement">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>

        <div class="permission-row">
          <span>üì° Network Monitoring</span>
          <select id="network_monitoring">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>

        <div class="permission-row">
          <span>‚öôÔ∏è Company Settings</span>
          <select id="company_Setting">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="card">
        <div class="add_heading">
          <h3 class="title">Help Desk Workspace Permissions</h3>
          <h3 class="subtitle">Permissions</h3>
        </div>

        <div class="permission-row">
          <span>üéß Geo 1</span>
          <select id="geo_1">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>

        <div class="permission-row">
          <span>üéß Geo 2</span>
          <select id="geo_2">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>

        <div class="permission-row">
          <span>üéß Geo 3</span>
          <select id="geo_3">
            <option>Select option</option>
            <option>Read All</option>
            <option>Basic Access (End User)</option>
            <option>Write Mine</option>
            <option>Read All / Write Mine</option>
            <option>Write All</option>
          </select>
        </div>
      </div>

      <button id="saveBtn" class="save-btn">Save Permissions</button>
    </main>
  </div>

  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <script >
    // GroupsAndPermissions.js
document.addEventListener("DOMContentLoaded", () => {
  // Initialize Lucide icons -- for styling
  lucide.createIcons();

  const headerSelect = document.getElementById("header_select");
  const addBtn = document.getElementById("addGroupBtn");
  const saveBtn = document.getElementById("saveBtn");
  const sidebarItems = document.querySelectorAll(".sidebar li");
  const permSelects = document.querySelectorAll("select");
  const iconButtons = document.querySelectorAll(".icon-btn");
  const profile = document.querySelector(".profile");

  // Sidebar click -> active state --> making side bar interactive
  sidebarItems.forEach(li => {
    li.addEventListener("click", () => {
      sidebarItems.forEach(el => el.classList.remove("active"));
      li.classList.add("active");
    });
  });

  // Profile click feedback --navigate to profile , if progile page available , 
  if (profile) {
    profile.addEventListener("click", () => {
      flashToast("Profile clicked!");
    });
  }

  // Add group logic-- > now for adding new group - for adding new groups in the page , can be modified in future
  addBtn.addEventListener("click", () => {
    const name = prompt("Enter new group name:");
    if (!name) return;
    const val = name.trim();
    if (!val) return;

    // Prevent duplicates- -
    const exists = Array.from(headerSelect.options).some(
      o => o.text.toLowerCase() === val.toLowerCase()
    );
    if (exists) {
      alert(`Group "${val}" already exists.`);
      return;
    }

    const opt = document.createElement("option");
    opt.value = val.toLowerCase().replace(/\s+/g, "-");
    opt.textContent = val;
    headerSelect.appendChild(opt);
    headerSelect.value = opt.value;
    flashToast(`Group "${val}" added`);
  });

  // Highlight row briefly on change -- dynamic stylig at each select section
  permSelects.forEach(sel => {
    sel.addEventListener("change", () => {
      const row = sel.closest(".permission-row");
      row.style.transition = "background .28s ease, box-shadow .28s ease";
      row.style.background =
        "linear-gradient(90deg, rgba(79,70,229,0.06), rgba(79,70,229,0.01))";
      row.style.boxShadow = "0 6px 18px rgba(79,70,229,0.06)";

      setTimeout(() => {
        row.style.background = "";
        row.style.boxShadow = "";
      }, 700);
    });
  });

  // Save permissions -- backend apis ko integrate karke , data backend me save karne ke liye
  saveBtn.addEventListener("click", () => {
    const group = headerSelect.value || headerSelect.options[0].text;

    const payload = {
      group,
      permissions: {
        asset_setting: document.getElementById("Asset_Management").value,
        saas_setting: document.getElementById("SaaS_Vendors").value,
        contract_setting: document.getElementById("contractManagement").value,
        telecom_setting: document.getElementById("telecomManagement").value,
        network_setting: document.getElementById("network_monitoring").value,
        company_setting: document.getElementById("company_Setting").value,
        geo_1: document.getElementById("geo_1").value,
        geo_2: document.getElementById("geo_2").value,
        geo_3: document.getElementById("geo_3").value,
      }
    };

    console.log("Saving payload:", payload);
    flashToast("Permissions saved (check console for payload)");

    // Example fetch 
    /*
    fetch("/api/save-permissions", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    }).then(res => res.json())
      .then(data => flashToast("Saved successfully"))
      .catch(err => flashToast("Save failed"));
    */
  });

  // Icon button ripple 
  iconButtons.forEach(b =>
    b.addEventListener("click", () => {
      b.animate(
        [
          { transform: "scale(1)" },
          { transform: "scale(0.96)" },
          { transform: "scale(1)" }
        ],
        { duration: 160 }
      );
    })
  );

  // Toast helper integration
  function flashToast(text, ms = 1800) {
    const t = document.createElement("div");
    t.className = "gp-toast";
    t.textContent = text;
    Object.assign(t.style, {
      position: "fixed",
      right: "20px",
      bottom: "24px",
      background: "rgba(15,23,42,0.95)",
      color: "#fff",
      padding: "10px 14px",
      borderRadius: "8px",
      zIndex: 9999,
      boxShadow: "0 6px 20px rgba(2,6,23,0.2)"
    });
    document.body.appendChild(t);
    setTimeout(() => (t.style.opacity = "0.92"), 10);
    setTimeout(() => t.remove(), ms);
  }
});

  </script>
</body>
</html>

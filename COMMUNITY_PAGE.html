<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recruiter Management Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f0f2f5;
        }
        /* For inline editing, show a light blue background on focus */
        [contenteditable="true"]:focus {
            outline: 2px solid #3b82f6;
            background-color: #eff6ff;
            border-radius: 4px;
        }
        /* Custom scrollbar */
        .table-container::-webkit-scrollbar {
            height: 8px;
        }
        .table-container::-webkit-scrollbar-track {
            background: #e0e0e0;
        }
        .table-container::-webkit-scrollbar-thumb {
            background: #a0a0a0;
            border-radius: 4px;
        }
        .table-container::-webkit-scrollbar-thumb:hover {
            background: #808080;
        }
        /* Fixed table layout to prevent width changes on edit */
        .fixed-table {
            table-layout: fixed;
        }
    </style>
</head>
<body>

    <!-- Hero/Header Section -->
    <header class="relative bg-cover bg-center h-52 md:h-64" style="background-image: url('https://images.unsplash.com/photo-1543269865-cbf427effbad?q=80&w=2070&auto=format&fit=crop');">
        <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-between px-8 md:px-16">
            <div class="flex items-center gap-4">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-10 h-10 md:w-12 md:h-12 text-white"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                <h1 class="text-4xl md:text-5xl font-bold text-white text-left drop-shadow-lg"> COMMUNITY PAGE</h1>
            </div>
            <p class="text-lg md:text-xl font-light text-white text-right drop-shadow-lg hidden md:block">Connecting talent with opportunity...</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto p-4 md:p-8">
        <div class="bg-white p-6 md:p-8 rounded-2xl shadow-xl">
            
            <!-- Controls: Add Button and Search Bar -->
            <div class="flex flex-col md:flex-row justify-end items-center mb-8 gap-5">
                <div class="relative w-full md:w-2/5 flex items-center">
                    <input type="text" id="search-input" placeholder="Search by name or position..." class="w-full border-2 border-gray-200 bg-gray-50 h-14 px-5 pr-5 rounded-l-xl text-base focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition">
                    <button class="bg-blue-600 text-white h-14 px-4 rounded-r-xl hover:bg-blue-700 transition">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-6 h-6"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                    </button>
                </div>
            </div>

            <!-- Recruiters Table -->
            <div class="table-container overflow-x-auto">
                <table class="min-w-full fixed-table">
                    <thead style="background-color: #1a365d;">
                        <tr>
                            <th scope="col" class="px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider" style="width: 8%;">Sr. No.</th>
                            <th scope="col" class="px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider" style="width: 30%;">Name</th>
                            <th scope="col" class="px-6 py-4 text-left text-sm font-bold text-white uppercase tracking-wider" style="width: 30%;">Position</th>
                            <th scope="col" class="px-6 py-4 text-center text-sm font-bold text-white uppercase tracking-wider" style="width: 11%;">Resume</th>
                            <th scope="col" class="px-6 py-4 text-center text-sm font-bold text-white uppercase tracking-wider" style="width: 11%;">Portfolio</th>
                            <th scope="col" class="px-6 py-4 text-center text-sm font-bold text-white uppercase tracking-wider" style="width: 10%;">Action</th>
                        </tr>
                    </thead>
                    <tbody id="recruiter-table-body" class="bg-white divide-y divide-gray-200">
                        <!-- Table rows will be inserted here by JavaScript -->
                    </tbody>
                </table>
                 <div id="no-results" class="text-center py-10 text-gray-500 hidden">
                    <p class="text-xl">No recruiters found.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- Add/Edit Recruiter Modal (Hidden, but kept in code) -->
    <div id="recruiter-modal" class="fixed inset-0 bg-gray-800 bg-opacity-60 h-full w-full hidden z-20 flex items-center justify-center p-4 transition-opacity duration-300">
        <div class="relative w-full max-w-lg shadow-2xl rounded-xl bg-white transition-transform transform scale-95 p-6">
            <h3 class="text-xl leading-6 font-bold text-gray-900 mb-6" id="modal-title">Add New Recruiter</h3>
            <form id="recruiter-form" class="space-y-5">
                <div>
                    <label for="fullName" class="text-sm font-medium text-gray-700">Full Name</label>
                    <input type="text" id="fullName" placeholder="Enter full name" class="mt-1 w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                </div>
                <div>
                    <label for="position" class="text-sm font-medium text-gray-700">Position</label>
                    <input type="text" id="position" placeholder="e.g., Tech Head" class="mt-1 w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                </div>
                <div>
                    <label for="resumeLink" class="text-sm font-medium text-gray-700">Resume Link</label>
                    <input type="url" id="resumeLink" placeholder="https://example.com/resume.pdf" class="mt-1 w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                </div>
                 <div>
                    <label for="portfolioLink" class="text-sm font-medium text-gray-700">Portfolio Link</label>
                    <input type="url" id="portfolioLink" placeholder="https://github.com/example" class="mt-1 w-full p-3 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500" required>
                </div>
                <div class="pt-4 flex gap-4">
                    <button id="save-recruiter-btn" type="submit" class="flex-1 px-4 py-3 bg-blue-600 text-white text-base font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-400">
                        Save Recruiter
                    </button>
                    <button id="close-modal-btn" type="button" class="flex-1 px-4 py-3 bg-gray-200 text-gray-800 text-base font-semibold rounded-lg shadow-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let recruiters = [
                { id: 1, name: 'Ranvir singh sodhi', position: 'Tech Head', resume: '#', portfolio: '#' },
                { id: 2, name: 'Sunidhi', position: 'Tech Team Member', resume: '#', portfolio: '#' },
            ];

            const tableBody = document.getElementById('recruiter-table-body');
            const searchInput = document.getElementById('search-input');
            const noResultsDiv = document.getElementById('no-results');

            const renderTable = (data) => {
                tableBody.innerHTML = '';
                const dataToRender = data || recruiters;

                if (dataToRender.length === 0) {
                    noResultsDiv.classList.remove('hidden');
                    tableBody.classList.add('hidden');
                } else {
                    noResultsDiv.classList.add('hidden');
                    tableBody.classList.remove('hidden');
                }

                dataToRender.forEach((recruiter, index) => {
                    const row = document.createElement('tr');
                    const rowClasses = index % 2 === 0 ? 'bg-white' : 'bg-gray-50';
                    row.className = rowClasses;
                    
                    row.innerHTML = `
                        <td class="px-6 py-5 whitespace-nowrap text-base font-medium text-gray-800">${index + 1}</td>
                        <td class="px-6 py-5 whitespace-nowrap text-base text-gray-700 overflow-hidden text-ellipsis" contenteditable="true" data-id="${recruiter.id}" data-field="name">${recruiter.name}</td>
                        <td class="px-6 py-5 whitespace-nowrap text-base text-gray-700 overflow-hidden text-ellipsis" contenteditable="true" data-id="${recruiter.id}" data-field="position">${recruiter.position}</td>
                        <td class="px-6 py-5 whitespace-nowrap text-base text-center">
                            <a href="${recruiter.resume}" target="_blank" class="text-blue-600 hover:text-blue-800" title="View Resume">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block w-7 h-7"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>
                            </a>
                        </td>
                        <td class="px-6 py-5 whitespace-nowrap text-base text-center">
                            <a href="${recruiter.portfolio}" target="_blank" class="text-indigo-600 hover:text-indigo-800" title="View Portfolio">
                               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block w-7 h-7"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>
                            </a>
                        </td>
                        <td class="px-6 py-5 whitespace-nowrap text-base text-center">
                            <button class="delete-btn text-red-500 hover:text-red-700" data-id="${recruiter.id}" title="Delete Recruiter">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="inline-block w-7 h-7"><path d="M3 6h18"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
                            </button>
                        </td>
                    `;
                    tableBody.appendChild(row);
                });
            };

            // Event Delegation for table actions (delete, inline edit)
            tableBody.addEventListener('click', (e) => {
                const deleteButton = e.target.closest('.delete-btn');
                if (deleteButton) {
                    const idToDelete = parseInt(deleteButton.dataset.id);
                    recruiters = recruiters.filter(r => r.id !== idToDelete);
                    renderTable();
                }
            });
            
            tableBody.addEventListener('blur', (e) => {
                const cell = e.target;
                if (cell.hasAttribute('contenteditable')) {
                    const idToUpdate = parseInt(cell.dataset.id);
                    const fieldToUpdate = cell.dataset.field;
                    const newValue = cell.innerText;
                    
                    const recruiterToUpdate = recruiters.find(r => r.id === idToUpdate);
                    if (recruiterToUpdate && recruiterToUpdate[fieldToUpdate] !== newValue) {
                        recruiterToUpdate[fieldToUpdate] = newValue;
                        console.log('Updated:', recruiters);
                    }
                }
            }, true); // Use capture phase to ensure blur is handled correctly

            // Search functionality
            searchInput.addEventListener('input', () => {
                const searchTerm = searchInput.value.toLowerCase();
                const filtered = recruiters.filter(r =>
                    r.name.toLowerCase().includes(searchTerm) ||
                    r.position.toLowerCase().includes(searchTerm)
                );
                renderTable(filtered);
            });

            // Modal Logic (kept for potential future use)
            const modal = document.getElementById('recruiter-modal');
            const recruiterForm = document.getElementById('recruiter-form');
            if(modal && recruiterForm){
                const modalContainer = modal.querySelector('div');
                const closeModalBtn = document.getElementById('close-modal-btn');

                const openModal = () => {
                    modal.classList.remove('hidden');
                    setTimeout(() => {
                        modal.style.opacity = '1';
                        modalContainer.style.transform = 'scale(1)';
                    }, 10);
                };

                const closeModal = () => {
                    modal.style.opacity = '0';
                    modalContainer.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        modal.classList.add('hidden');
                    }, 300);
                };

                closeModalBtn.addEventListener('click', closeModal);
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) closeModal();
                });
                
                recruiterForm.addEventListener('submit', (e) => {
                    e.preventDefault();
                    
                    const newRecruiter = {
                        id: Date.now(), // Unique ID using timestamp
                        name: document.getElementById('fullName').value,
                        position: document.getElementById('position').value,
                        resume: document.getElementById('resumeLink').value,
                        portfolio: document.getElementById('portfolioLink').value
                    };
                    
                    recruiters.push(newRecruiter);
                    renderTable();
                    closeModal();
                });
            }


            // Initial render
            renderTable();
        });
    </script>
</body>
</html>